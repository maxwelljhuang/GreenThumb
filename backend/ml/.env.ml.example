# GreenThumb ML Configuration
# Copy this file to .env.ml and customize for your environment
# DO NOT commit .env.ml to version control

# ============================================
# Model Selection
# ============================================

# CLIP Model Options:
#   - ViT-B-32 (default, 512-dim, ~500MB)
#   - ViT-L-14 (large, 768-dim, ~900MB, better quality)
#   - ViT-B-16-SigLIP (SigLIP base, 512-dim, ~700MB, recommended for products)
CLIP_MODEL=ViT-B-32

# Pretrained Source Options:
#   - openai (default, well-tested)
#   - laion2b_s34b_b79k (trained on more data)
#   - webli (for SigLIP models)
CLIP_PRETRAINED=openai

# ============================================
# Device Configuration
# ============================================

# Device: 'cuda', 'cpu', or 'mps' (for Apple Silicon)
# Auto-detected if not set
ML_DEVICE=cpu

# GPU selection (if you have multiple GPUs)
CUDA_VISIBLE_DEVICES=0

# ============================================
# Model Cache Paths
# ============================================

# Hugging Face cache directory (for sentence-transformers)
HF_HOME=/Users/maxwellhuang/.cache/huggingface

# PyTorch model cache
TORCH_HOME=/Users/maxwellhuang/.cache/torch

# ============================================
# Batch Processing
# ============================================

# Batch size for embedding generation
# Larger = faster but more memory
# GPU: 64-128, CPU: 16-32
EMBEDDING_BATCH_SIZE=32

# Number of parallel workers for image downloads
MAX_WORKERS=4

# Image download timeout (seconds)
IMAGE_DOWNLOAD_TIMEOUT=10

# ============================================
# Redis Configuration (for user embeddings)
# ============================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=

# ============================================
# Performance Tuning
# ============================================

# Enable PyTorch mixed precision (GPU only)
USE_FP16=false

# Enable PyTorch compilation (experimental, PyTorch 2.0+)
USE_TORCH_COMPILE=false

# ============================================
# Logging
# ============================================

# Log embedding generation time
LOG_EMBEDDING_TIME=true

# Log level: DEBUG, INFO, WARNING, ERROR
ML_LOG_LEVEL=INFO
